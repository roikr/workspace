package {
	import flash.utils.setTimeout;

	/**
	 * @author roikr
	 */
	public class DebugPanel {
		private var panel:DebugPanelAssets;
		private var client:Object;
		
		public function DebugPanel(panel:DebugPanelAssets,client:Object) {
			this.panel = panel;
			this.client = client;
			
			/*
			panel.ti_username.setFocus();
			panel.bt_login.addEventListener(MouseEvent.CLICK, onLoginBtClick);
			
			panel.bt_login.enabled = true;
			panel.ti_username.enabled = true;
			 * 
			 */
			
		}
		
		
		public function logMessage(txt:String):void
		{
			panel.ta_log.text += txt + "\n";
			
			setTimeout(function():void { panel.ta_log.verticalScrollPosition = panel.ta_log.maxVerticalScrollPosition; }, 100);
		}
		
		public function logTrace(txt:String):void
		{
			panel.ta_trace.text += txt + "\n";
			
			setTimeout(function():void { panel.ta_trace.verticalScrollPosition = panel.ta_trace.maxVerticalScrollPosition; }, 100); 
		}	
		
		
		/**
		 * GO button click handler.
		 * Connector component tries to establish a connection to SmartFoxServer.
		 */
		 /*
		private function onLoginBtClick(e:Event):void
		{
			//logTrace("Go button clicked; Connector will now load SmartFoxClient configuration and connect to SmartFoxServer");
			
			panel.bt_login.enabled = false;
			panel.ti_username.enabled = false;
			//myUsername = loginPanel.ti_username.text;
			
			//smartFox.connect(myIP);
		}
		
		 
		  avatarControlsContainer.bt_send.addEventListener(MouseEvent.CLICK, onSendMessageBtClick)
			avatarControlsContainer.bt_teleportAvatar.addEventListener(MouseEvent.CLICK, onTeleportBtClick)
			avatarControlsContainer.bt_moveAvatar.addEventListener(MouseEvent.CLICK, onMoveBtClick)
			avatarControlsContainer.bt_stopAvatar.addEventListener(MouseEvent.CLICK, onStopBtClick)
			avatarControlsContainer.bt_changeSkin.addEventListener(MouseEvent.CLICK, onChangeSkinBtClick)
			avatarControlsContainer.bt_setAnimTime.addEventListener(MouseEvent.CLICK, onSetAnimTimeBtClick)
		 
		 // ================ AVATAR CONTROLS ================
		public function onAvatarDown(chatpet:String) : void {
			avatarManager.changePlayerAvatarSkin(chatpet);
		}
		
		public function sendMessage(msg:String) : void {
			smartFox.sendPublicMessage(msg);
		}
		
		private function onSendMessageBtClick(e:MouseEvent):void
		{
			if (avatarControlsContainer.ti_message.text != "")
				smartFox.sendPublicMessage(avatarControlsContainer.ti_message.text)
			
			avatarControlsContainer.ti_message.text = ""
		}
		
		private function onChangeSkinBtClick(e:MouseEvent):void
		{
			//avatarManager.changePlayerAvatarSkin()
		}
		
		private function onTeleportBtClick(e:MouseEvent):void
		{
			avatarManager.teleportPlayerAvatar()
		}
		
		private function onMoveBtClick(e:MouseEvent):void
		{
			avatarManager.movePlayerAvatar()
		}
		
		private function onStopBtClick(e:MouseEvent):void
		{
			avatarManager.stopPlayerAvatar()
		}
		
		private function onSetAnimTimeBtClick(e:MouseEvent):void
		{
			avatarManager.setPlayerAvatarAnimTime()
		}
		*/
	}
}
